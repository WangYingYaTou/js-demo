一个 promise 大致是如何实现？

状态 + 队列

setTimeout 与原始的模拟还是有一定差距

microTask 和 macroTask event loop 执行顺序有差别